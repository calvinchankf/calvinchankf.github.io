<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Leap JavaScript Sample</title>
<script src="js/leap.js"></script>
<script>
var paused = false;

// Setup Leap loop with frame callback function
var controllerOptions = {enableGestures: true};

Leap.loop(controllerOptions, function(frame) {
  if (paused) {
    return; // Skip this update
  }
	
	/*
  // Display Hand object data
  var handOutput = document.getElementById("handData");
  var handString = "";
  if (frame.hands.length > 0) {
    for (var i = 0; i < frame.hands.length; i++) {
      var hand = frame.hands[i];

      handString += "<div style='width:300px; float:left; padding:5px'>";
      handString += "Palm velocity: " + vectorToString(hand.palmVelocity) + " mm/s<br />";
      
      // Slide up and down
		if(hand.palmVelocity[1] > parseFloat(1000)){
			alert("up");
			pauseForAWhile();
		}else if(hand.palmVelocity[1] < parseFloat(-1000)){
			alert("down");
			pauseForAWhile();
		}

      handString += "</div>";
    }
  }
  else {
    handString += "No hands";
  }
  handOutput.innerHTML = handString;
  */
  
  if (frame.hands.length > 0) {
    for (var i = 0; i < frame.hands.length; i++) {
      var hand = frame.hands[i];

      // Slide up and down
		if(hand.palmVelocity[1] > parseFloat(1000)){
			alert("up");
			pauseForAWhile();
		}else if(hand.palmVelocity[1] < parseFloat(-1000)){
			alert("down");
			pauseForAWhile();
		}

    }
  }
  
})

/*
function vectorToString(vector, digits) {
  if (typeof digits === "undefined") {
    digits = 1;
  }
  return "(" + vector[0].toFixed(digits) + ", "
             + vector[1].toFixed(digits) + ", "
             + vector[2].toFixed(digits) + ")";
}
*/

function togglePause() {
  paused = !paused;
}

function pauseForAWhile(){
	togglePause();
	setTimeout(function(){togglePause();},1000);
}

</script>
</head>
<body onload="checkLibrary()">
<h1>Leap JavaScript Sample</h1>
<div id="main">
  <!--
  <h3>Hand data:</h3>
  <div id="handData"></div>
  <div style="clear:both;"></div>
  -->
</div>
</body>
</html>